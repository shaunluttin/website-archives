<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from bigfontblog.azurewebsites.net/cqrs-and-ddd-some-guidelines/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Dec 2022 10:56:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>CQRS/ES and DDD: Some Frequently Asked Questions</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="../assets/built/screenc03d.css?v=3e32194df1" />

    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
    <link rel="canonical" href="https://bigfont.ca/cqrs-and-ddd-some-guidelines/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="https://bigfont.ca/cqrs-and-ddd-some-guidelines/amp/" />
    
    <meta property="og:site_name" content="BigFont Blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="CQRS/ES and DDD: Some Frequently Asked Questions" />
    <meta property="og:description" content="CQRS/ES stands for Command Query Responsibility Segregation. DDD stands for
Domain Driven Design. A team of mine has been working with these for the last
year and a half. Here are some of the questions I have answered regularly.

What are some practical risks of returning the domain model directly to a client
application such as the front-end? 

Returning the domain model to a client application (such as the front-end) has
several risks including 1. extra change approval overhead, 2. leaking sec" />
    <meta property="og:url" content="https://bigfont.ca/cqrs-and-ddd-some-guidelines/" />
    <meta property="article:published_time" content="2019-10-23T22:18:21.000Z" />
    <meta property="article:modified_time" content="2019-10-24T00:24:21.000Z" />
    <meta property="article:tag" content="domain-driven-development" />
    <meta property="article:tag" content="cqrs-es" />
    <meta property="article:tag" content="cqrs" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="CQRS/ES and DDD: Some Frequently Asked Questions" />
    <meta name="twitter:description" content="CQRS/ES stands for Command Query Responsibility Segregation. DDD stands for
Domain Driven Design. A team of mine has been working with these for the last
year and a half. Here are some of the questions I have answered regularly.

What are some practical risks of returning the domain model directly to a client
application such as the front-end? 

Returning the domain model to a client application (such as the front-end) has
several risks including 1. extra change approval overhead, 2. leaking sec" />
    <meta name="twitter:url" content="https://bigfont.ca/cqrs-and-ddd-some-guidelines/" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Shaun Luttin" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="domain-driven-development, cqrs-es, cqrs" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "BigFont Blog",
        "logo": {
            "@type": "ImageObject",
            "url": "https://bigfont.ca/content/images/2016/10/business_casual_cropped_square.jpg",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Shaun Luttin",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/a5f32a0e420e00997e87ee2e565a30bd?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://bigfont.ca/author/shaun/",
        "sameAs": []
    },
    "headline": "CQRS/ES and DDD: Some Frequently Asked Questions",
    "url": "https://bigfont.ca/cqrs-and-ddd-some-guidelines/",
    "datePublished": "2019-10-23T22:18:21.000Z",
    "dateModified": "2019-10-24T00:24:21.000Z",
    "keywords": "domain-driven-development, cqrs-es, cqrs",
    "description": "CQRS/ES stands for Command Query Responsibility Segregation. DDD stands for\nDomain Driven Design. A team of mine has been working with these for the last\nyear and a half. Here are some of the questions I have answered regularly.\n\nWhat are some practical risks of returning the domain model directly to a client\napplication such as the front-end? \n\nReturning the domain model to a client application (such as the front-end) has\nseveral risks including 1. extra change approval overhead, 2. leaking sec",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://bigfont.ca/"
    }
}
    </script>

    <script src="../public/ghost-sdk.minc03d.js?v=3e32194df1"></script>
<script>
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "d312fafda9a4"
});
</script>
    <meta name="generator" content="Ghost 2.30" />
    <link rel="alternate" type="application/rss+xml" title="BigFont Blog" href="https://bigfont.ca/rss/" />
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85719272-1', 'auto');
  ga('send', 'pageview');

</script>
<style>
    .img-attribution {
      font-size:12px;
    }
    
    table.pros-and-cons {
      table-layout:'fixed';
    }
    
    table.pros-and-cons colgroup col {
      width:40%;
    }

    table.pros-and-cons colgroup col:first-of-type {
      width:20%;
    }

    table.pros-and-cons th,
    table.pros-and-cons p {
      white-space:break-spaces;
    }
</style>

</head>
<body class="post-template tag-domain-driven-development tag-cqrs-es tag-cqrs">

    <div class="site-wrapper">

        

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
                <a class="site-nav-logo" href="https://bigfont.ca/"><img src="../content/images/2016/10/business_casual_cropped_square.jpg" alt="BigFont Blog" /></a>
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="../index.html">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="../about/index.html">About</a></li>
    <li class="nav-bibliography-work" role="menuitem"><a href="../work-bibliography/index.html">Bibliography (Work)</a></li>
</ul>

    </div>
    <div class="site-nav-right">
        <div class="social-links">
        </div>
            <a class="rss-button" href="https://feedly.com/i/subscription/feed/https://bigfont.ca/rss/" title="RSS" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
</a>
    </div>
</nav>
    </div>
</header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post tag-domain-driven-development tag-cqrs-es tag-cqrs no-image">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2019-10-23">23 October 2019</time>
                        <span class="date-divider">/</span> <a href="../tag/domain-driven-development/index.html">domain-driven-development</a>
                </section>
                <h1 class="post-full-title">CQRS/ES and DDD: Some Frequently Asked Questions</h1>
            </header>


            <section class="post-full-content">
                <div class="post-content">
                    <p>CQRS/ES stands for Command Query Responsibility Segregation. DDD stands for Domain Driven Design. A team of mine has been working with these for the last year and a half. Here are some of the questions I have answered regularly.</p><p><strong>What are some practical risks of returning the domain model directly to a client application such as the front-end? </strong></p><p>Returning the domain model to a client application (such as the front-end) has several risks including 1. extra change approval overhead, 2. leaking secure data, and 3. difficulty maintaining and reasoning about the domain.</p><p>First, the back-end developers are going to have to make a change approval request to the front-end before changing their domain models; if they do not do that, the back-end developers might change the domain model and inadvertently break the front-end code. This change approval process prevents innovation on the back-end, because often the change approval process takes too long and results in needless discussion. </p><p>Second, there is a security risk to returning the domain model directly to the client application, because something stored in the back-end might not be appropriate for client application to see. </p><p>Third, returning the domain model directly to the client application encourages the domain model to take on inappropriate responsibilities. In domain driven development, the domain model is responsible for modeling the domain. When the domain starts also to concern itself with client application responsibilities, then the domain model can become needlessly complex. In its extreme form, a domain that is modeling sea level rise (for instance) might start to have properties, such as Â <code>htmlLabel</code>, which are not necessary for modeling the domain. Other subtle leaking of responsibilities can happen, too, such as changing the name of a property to something the client application expects. </p><p>Software development is complex enough already; lets follow the single responsibility principle by keeping the domain model about the domain. If you find yourself having coupled the domain model to the client application, then consider simply renaming the domain model to a "materialized view model", which is more descriptive of the role the models have come to be performing. Then get busy also building a new, clean domain model with a single responsibility.</p><p><strong>Should CQRS command execution return query results to the client application? If not, why not?</strong></p><p>According to CQRS principles, command execution should not return query results to the client application. Instead, command execution should only return command metadata relating to the command's outcome. Appropriate command metadata includes validation results (that command is not okay to execute) and fulfillment results (e.g. an identifier or version that indicates where to find the updated aggregate).</p><p>Why? We avoid returning query information from a command, because different clients might want different data after command execution completes. Even the same client might want different data after command execution completes. For instance, after running the <code>CreateInvoiceCommand</code>, a client application might sometimes want to see a list of all customers, and might other times want to see a list of a certain customer's unpaid invoices. In short, the return value of the command execution should be independent of the client application that is calling the command. </p><p>Here are some references about what command execution should return:</p><ul><li><a href="https://stackoverflow.com/questions/43433318/cqrs-command-return-values">https://stackoverflow.com/questions/43433318/cqrs-command-return-values</a></li><li><a href="https://cqrs.files.wordpress.com/2010/11/cqrs_documents.pdf">https://cqrs.files.wordpress.com/2010/11/cqrs_documents.pdf</a></li><li><a href="https://github.com/shaunluttin/design-patterns/blob/master/articles/CQRS_Young.pdf">https://github.com/shaunluttin/design-patterns/blob/master/articles/CQRS_Young.pdf</a></li></ul>
                </div>
            </section>


            <footer class="post-full-footer">


                    
<section class="author-card">
        <img class="author-profile-image" src="http://www.gravatar.com/avatar/a5f32a0e420e00997e87ee2e565a30bd?s=250&amp;d=mm&amp;r=x" alt="Shaun Luttin" />
    <section class="author-card-content">
        <h4 class="author-card-name"><a href="../author/shaun/index.html">Shaun Luttin</a></h4>
            <p>Read <a href="../author/shaun/index.html">more posts</a> by this author.</p>
    </section>
</section>
<div class="post-full-footer-right">
    <a class="author-card-button" href="../author/shaun/index.html">Read More</a>
</div>


            </footer>


        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">

                <article class="post-card post tag-workplace tag-psychology ">

    <a class="post-card-image-link" href="../here-is-a-realistic-and-encouraging-way-of-thinking-for-people-who/index.html">
        <img class="post-card-image"
            srcset="/content/images/size/w300/2019/10/KC_Ballet_CincinnatiBallet-SwanLake2009-Photog-PeterMueller_-15739556063-.jpg 300w,
                    /content/images/size/w600/2019/10/KC_Ballet_CincinnatiBallet-SwanLake2009-Photog-PeterMueller_-15739556063-.jpg 600w,
                    /content/images/size/w1000/2019/10/KC_Ballet_CincinnatiBallet-SwanLake2009-Photog-PeterMueller_-15739556063-.jpg 1000w,
                    /content/images/size/w2000/2019/10/KC_Ballet_CincinnatiBallet-SwanLake2009-Photog-PeterMueller_-15739556063-.jpg 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            src="../content/images/2019/10/KC_Ballet_CincinnatiBallet-SwanLake2009-Photog-PeterMueller_-15739556063-.jpg"
            alt="A realistic and encouraging way of thinking for staff at a company that is working at 100% capacity."
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../here-is-a-realistic-and-encouraging-way-of-thinking-for-people-who/index.html">

            <header class="post-card-header">
                    <span class="post-card-tags">workplace</span>
                <h2 class="post-card-title">A realistic and encouraging way of thinking for staff at a company that is working at 100% capacity.</h2>
            </header>

            <section class="post-card-excerpt">
                <p>When a company is working at 100% capacity (sometimes with no clear processes), breakdowns are bound to occur. This is not your fault. You are allowed to make mistakes at work. A well</p>
            </section>

        </a>

        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Shaun Luttin
                    </div>

                        <a href="../author/shaun/index.html" class="static-avatar">
                            <img class="author-profile-image" src="http://www.gravatar.com/avatar/a5f32a0e420e00997e87ee2e565a30bd?s=250&amp;d=mm&amp;r=x" alt="Shaun Luttin" />
                        </a>
                </li>
            </ul>

            <span class="reading-time">1 min read</span>

        </footer>

    </div>

</article>

                <article class="post-card post tag-wsl tag-linux tag-bash no-image">


    <div class="post-card-content">

        <a class="post-card-content-link" href="../tab-completion-in-bash-in-wsl/index.html">

            <header class="post-card-header">
                    <span class="post-card-tags">wsl</span>
                <h2 class="post-card-title">Tab completion in Ubuntu Bash (in WSL)</h2>
            </header>

            <section class="post-card-excerpt">
                <p>This is for people, like me, who come from ten years of Windows PowerShell, and are more an more using Linux (through the Windows Subsystem for Linux). Here is a snippet from the</p>
            </section>

        </a>

        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Shaun Luttin
                    </div>

                        <a href="../author/shaun/index.html" class="static-avatar">
                            <img class="author-profile-image" src="http://www.gravatar.com/avatar/a5f32a0e420e00997e87ee2e565a30bd?s=250&amp;d=mm&amp;r=x" alt="Shaun Luttin" />
                        </a>
                </li>
            </ul>

            <span class="reading-time">1 min read</span>

        </footer>

    </div>

</article>

        </div>
    </div>
</aside>

<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://bigfont.ca/">
            <span>BigFont Blog</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">CQRS/ES and DDD: Some Frequently Asked Questions</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=CQRS%2FES%20and%20DDD%3A%20Some%20Frequently%20Asked%20Questions&amp;url=https://bigfont.ca/cqrs-and-ddd-some-guidelines/"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://bigfont.ca/cqrs-and-ddd-some-guidelines/"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
        </a>
    </div>
    <progress id="reading-progress" class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://bigfont.ca/">BigFont Blog</a> &copy; 2022</section>
                <nav class="site-footer-nav">
                    <a href="https://bigfont.ca/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org/" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script>
        var images = document.querySelectorAll('.kg-gallery-image img');
        images.forEach(function (image) {
            var container = image.closest('.kg-gallery-image');
            var width = image.attributes.width.value;
            var height = image.attributes.height.value;
            var ratio = width / height;
            container.style.flex = ratio + ' 1 0%';
        })
    </script>


    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="../assets/built/jquery.fitvidsc03d.js?v=3e32194df1"></script>

    <script src="../assets/built/infinitescrollc03d.js?v=3e32194df1"></script>

    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('#reading-progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();

});
</script>


    

</body>

<!-- Mirrored from bigfontblog.azurewebsites.net/cqrs-and-ddd-some-guidelines/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Dec 2022 10:56:10 GMT -->
</html>
